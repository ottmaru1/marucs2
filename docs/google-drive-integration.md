# 구글 드라이브 연동 계획

## 계정 변경 시나리오

### 1. 회사 계정 변경
```
기존: admin@oldcompany.com
신규: admin@newcompany.com
```

### 2. 권한 변경
```
개발환경: dev@marucomsys.com  
운영환경: prod@marucomsys.com
```

### 3. 개인/회사 계정 전환
```
개인: personal@gmail.com
회사: business@marucomsys.com
```

## 구현 방법

### A. 관리자 페이지에서 계정 관리
```
/admin/storage-settings
- 현재 연결된 계정: admin@company.com
- [계정 변경] 버튼 클릭
- 구글 OAuth 인증 플로우
- 새 계정으로 재연결 완료
```

### B. 다중 계정 지원
```
계정 목록:
- 관리자 계정 (admin@company.com)
- 백업 계정 (backup@company.com)  
- 개발 계정 (dev@company.com)

각각 독립적인 토큰 관리
```

## 데이터 이전 방안

### 자동 이전
- 기존 업로드 파일들을 새 드라이브로 복사
- 메타데이터 업데이트 (새 파일 ID)

### 수동 이전  
- 중요 파일만 선별적으로 이전
- 관리자가 직접 제어

## 보안 고려사항

1. **토큰 저장**: 암호화된 환경변수
2. **권한 범위**: drive.file (최소 권한)
3. **접근 로그**: 계정 변경 이력 추적
4. **백업**: 계정 변경 전 자동 백업

## 사용자 경험

1. **간단한 UI**: "구글 계정 변경" 버튼 하나
2. **안전한 전환**: 기존 파일 보존 확인
3. **즉시 적용**: 변경 후 바로 새 계정으로 업로드
4. **롤백 가능**: 문제 시 이전 계정으로 복구

## 구현 우선순위

1. **1단계**: 단일 계정 재인증 (계정 변경)
2. **2단계**: 다중 계정 지원  
3. **3단계**: 자동 데이터 이전
4. **4단계**: 고급 관리 기능